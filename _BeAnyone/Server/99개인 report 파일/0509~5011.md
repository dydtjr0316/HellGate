|    날짜    | 작성자 |
| :--------: | :----: |
| 2021.05.11 | 이용석 |

--------

# 오늘 한 일

1.  기존 프로젝트에 터레인을 추가했을때 터지는 현상 

   - [x] 완료

   1-1. 이유

   터레인을 붙였을때 enter_packet이 처리되며 생성되는 객체에 대한 문제라고 생각하고 그부분만 

   집중적으로 봤는데 오늘 새벽에 클라이언트와 디버깅하며 CGameObject 객체의 TransForm이

   Null 이라는 부분을 확인했었는데 이때 enter가 문제가아니라 leave가 문제라는 것을 깨달았어야했는데 그러지 못했다. 이게 오래 걸린이유고

   

   이전에 같은 브랜치에서 서버 클라가 같은작업을 한적이있는데  그때 reset --hard를 통해 내 로컬의 자료를 지우면서  터레인을 붙이며 문제가 될거같아 주석처리해놓은 leave_packet처리부의 주석까지 삭제되어 문제가 발생했던것 같다.

   

   심지어 enter와 leave에 대한 테스트를 진행하기위해 시야도 줄여놓은 상태에서 enter와 leave간의 실행격차가 매우작아져 enter의 오류라고 생각했다.

   

   그래서 우선적으로 enter시 새로들어온 객체에 대해 terrain을 새로 생성하지 않고 이미생성되있는 클라이언트의  터레인 포인터 값을 넘겨주며 맵을 동기화하려고했다.

   (맞는진 잘모르겠지만 해보며 수정) 

   

   그리고 leave는 클라이언트와 상의해 지우는 중이다. 

   이상황만 놓고보면 크게 영향이 없었다고 말할수 있을거같은데 조금 크게보면 

   서버와 클라이언트가 서로의 작업에대해 잘모르는 부분이 많은게 협력하며 가장 시간을 잡아먹는 부분인것 같다. 

   중간발표끝나면 지금 만들고있는 서버프로토콜 구조 excel 파일 보여주며 설명해주고

   클라이언트에대해서도 배우고가는 시간이 필요할것 같다.

   ----

   # 앞으로 할 일

   1. 첫좌표 세팅
   
   2. 지정좌표 넘어갔을때 터지는지 확인
   
   3. isnear 함수 나한텐 작동안하게 하기 - 많이 꼬일지도 모름
   
   4. leave할때 관련요소 전부 삭제하는 코드 만들어야함 
   
      ex) 컴포턴트 , 레이어











